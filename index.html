<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Epic Web Creator â€” ğŸ”¥ Creador Ã‰pico</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="particles"></div>
  <main class="wrap">
    <div id="app" class="card">
      <!-- Intro -->
      <section id="intro" class="step center">
        <div class="emoji-hero">âš¡ğŸš€âš¡</div>
        <h1 class="shimmer">Â¡BIENVENIDO AL CREADOR Ã‰PICO!</h1>
        <p class="muted">Tu viaje para crear pÃ¡ginas empieza ahora âœ¨</p>
      </section>

      <!-- Name -->
      <section id="step-name" class="step hidden">
        <h2>Â¿CuÃ¡l es tu nombre?</h2>
        <input id="input-name" maxlength="40" placeholder="Tu nombre..." />
        <div class="actions">
          <button id="btn-name-next" class="primary" disabled>Continuar â†’</button>
        </div>
      </section>

      <!-- Country -->
      <section id="step-country" class="step hidden">
        <h2>Â¿De quÃ© paÃ­s eres?</h2>
        <input id="input-country" maxlength="40" placeholder="Tu paÃ­s..." />
        <div class="actions two">
          <button class="secondary" id="btn-country-back">â† AtrÃ¡s</button>
          <button class="primary" id="btn-country-next">Siguiente</button>
        </div>
      </section>

      <!-- Goal -->
      <section id="step-goal" class="step hidden">
        <h2>Â¿CuÃ¡l es tu objetivo principal?</h2>
        <textarea id="input-goal" maxlength="1200" placeholder="Describe brevemente cuÃ¡l es tu objetivo ..."></textarea>
        <div class="actions two">
          <button class="secondary" id="btn-goal-back">â† AtrÃ¡s</button>
          <button class="primary" id="btn-goal-next">Continuar</button>
        </div>
      </section>

      <!-- Site count -->
      <section id="step-count" class="step hidden center">
        <h2>Â¿CuÃ¡ntos sitios quieres crear? (1-3)</h2>
        <div class="count-buttons">
          <button class="count-btn active" data-count="1">1</button>
          <button class="count-btn" data-count="2">2</button>
          <button class="count-btn" data-count="3">3</button>
        </div>
        <div class="actions two">
          <button class="secondary" id="btn-count-back">â† AtrÃ¡s</button>
          <button class="primary" id="btn-count-next">Siguiente</button>
        </div>
      </section>

      <!-- Domains -->
      <section id="step-domains" class="step hidden">
        <h2>Define los dominios</h2>
        <p class="muted">Formato: https://(nombre).netlify.app â€” solo letras, nÃºmeros y guiones</p>
        <div id="domains-container"></div>
        <div class="actions two">
          <button class="secondary" id="btn-domains-back">â† AtrÃ¡s</button>
          <button class="primary" id="btn-domains-next" disabled>Comprobar dominios â†’</button>
        </div>
      </section>

      <!-- Nueva secciÃ³n: Confirmar existencia del dominio -->
      <section id="step-domain-check" class="step hidden center">
        <h2>Â¿Existe ya una pÃ¡gina con este dominio?</h2>
        <div id="domain-check-link" style="margin-bottom:16px;"></div>
        <div class="actions wrap" style="gap:12px;">
          <button id="btn-domain-check-open" class="primary">Comprobar</button>
        </div>
        <div id="domain-check-confirm" class="hidden" style="margin-top:18px;">
          <p>Â¿Existe una pÃ¡gina con ese dominio?</p>
          <div class="actions two">
            <button id="btn-domain-check-yes" class="primary">No,Continuar</button>
            <button id="btn-domain-check-no" class="secondary">SÃ­, cambiar dominio</button>
          </div>
        </div>
      </section>

      <!-- Descriptions -->
      <section id="step-desc" class="step hidden">
        <h2>Describe cada sitio</h2>
        <div id="desc-container"></div>
        <div class="actions two">
          <button class="secondary" id="btn-desc-back">â† AtrÃ¡s</button>
          <button class="primary" id="btn-desc-next">Generar Resumen</button>
        </div>
      </section>

      <!-- Final -->
      <section id="step-final" class="step hidden">
        <h2 id="final-title"></h2>
        <div id="summary" class="summary-box"></div>

        <div class="actions wrap">
          <button id="btn-download" class="primary">ğŸ“¥ Descargar imagen</button>
          <button id="btn-copy" class="secondary">ğŸ“‹ Copiar texto</button>
          <button id="btn-reset" class="secondary">ğŸ”„ Reiniciar</button>
        </div>
        <div class="actions wrap" style="margin-top: 20px;">
          <button id="btn-ai-creator" class="ai-creator-btn">ğŸ¤– Probar Creador de PÃ¡ginas Con IA</button>
        </div>
        <p class="muted center">ğŸ“© EnvÃ­a la imagen a <strong>Genioinventor</strong> en Discord</p>
        <p class="muted center">ğŸ“© EnvÃ­a la imagen a <strong>321 100 2280</strong> en WhatsApp</p>

      </section>

      <!-- AI Page Creator -->
      <section id="step-ai-creator" class="step hidden">
        <h2>ğŸ¤– Creador de PÃ¡ginas Web con IA</h2>
        <p class="muted">La IA crearÃ¡ la pÃ¡gina web mÃ¡s avanzada del mundo segÃºn tu objetivo</p>
        
        <div class="ai-status" id="ai-status" style="display: none;">
          <div class="loading-spinner"></div>
          <p>Generando tu pÃ¡gina web avanzada...</p>
        </div>

        <div id="ai-result" style="display: none;">
          <h3>âœ¨ Tu pÃ¡gina web ha sido generada</h3>
          <div class="preview-container">
            <iframe id="preview-frame" sandbox="allow-scripts allow-same-origin" style="width: 100%; height: 400px; border: 1px solid #333; border-radius: 8px;"></iframe>
          </div>
          <div class="actions wrap" style="margin-top: 16px;">
            <button id="btn-download-html" class="primary">ğŸ“¥ Descargar archivo HTML</button>
            <button id="btn-fullscreen" class="secondary">ğŸ” Pantalla completa</button>
            <button id="btn-regenerate" class="secondary">ğŸ”„ Regenerar</button>
          </div>
        </div>

        <div class="actions two">
          <button class="secondary" id="btn-ai-back">â† Volver al resumen</button>
          <button class="primary" id="btn-ai-generate">ğŸš€ Generar pÃ¡gina web</button>
        </div>
      </section>































    </div>
  </main>

  <!-- Confetti canvas (floating) -->
  <canvas id="confetti-canvas" class="confetti"></canvas>
  <canvas id="hidden-canvas" class="hidden"></canvas>

  <script type="module">
    import { GoogleGenAI } from 'https://cdn.jsdelivr.net/npm/@google/genai@1.20.0/+esm';
    window.GoogleGenAI = GoogleGenAI;
  </script>
  <script src="ai-creator.js"></script>
  <script src="script.js"></script>
</body>

</html>
