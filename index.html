<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Epic Web Creator — 🔥 Creador Épico</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="particles"></div>
  <main class="wrap">
    <div id="app" class="card">
      <!-- Intro -->
      <section id="intro" class="step center">
        <div class="emoji-hero">⚡🚀⚡</div>
        <h1 class="shimmer">¡BIENVENIDO AL CREADOR ÉPICO!</h1>
        <p class="muted">Tu viaje para crear páginas empieza ahora ✨</p>
      </section>

      <!-- Name -->
      <section id="step-name" class="step hidden">
        <h2>¿Cuál es tu nombre?</h2>
        <input id="input-name" maxlength="40" placeholder="Tu nombre..." />
        <div class="actions">
          <button id="btn-name-next" class="primary" disabled>Continuar →</button>
        </div>
      </section>

      <!-- Country -->
      <section id="step-country" class="step hidden">
        <h2>¿De qué país eres?</h2>
        <input id="input-country" maxlength="40" placeholder="Tu país..." />
        <div class="actions two">
          <button class="secondary" id="btn-country-back">← Atrás</button>
          <button class="primary" id="btn-country-next">Siguiente</button>
        </div>
      </section>

      <!-- Goal -->
      <section id="step-goal" class="step hidden">
        <h2>¿Cuál es tu objetivo principal?</h2>
        <textarea id="input-goal" maxlength="1200" placeholder="Describe brevemente cuál es tu objetivo ..."></textarea>
        <div class="actions two">
          <button class="secondary" id="btn-goal-back">← Atrás</button>
          <button class="primary" id="btn-goal-next">Continuar</button>
        </div>
      </section>

      <!-- Site count -->
      <section id="step-count" class="step hidden center">
        <h2>¿Cuántos sitios quieres crear? (1-3)</h2>
        <div class="count-buttons">
          <button class="count-btn active" data-count="1">1</button>
          <button class="count-btn" data-count="2">2</button>
          <button class="count-btn" data-count="3">3</button>
        </div>
        <div class="actions two">
          <button class="secondary" id="btn-count-back">← Atrás</button>
          <button class="primary" id="btn-count-next">Siguiente</button>
        </div>
      </section>

      <!-- Domains -->
      <section id="step-domains" class="step hidden">
        <h2>Define los dominios</h2>
        <p class="muted">Formato: https://(nombre).netlify.app — solo letras, números y guiones</p>
        <div id="domains-container"></div>
        <div class="actions two">
          <button class="secondary" id="btn-domains-back">← Atrás</button>
          <button class="primary" id="btn-domains-next" disabled>Comprobar dominios →</button>
        </div>
      </section>

      <!-- Nueva sección: Confirmar existencia del dominio -->
      <section id="step-domain-check" class="step hidden center">
        <h2>¿Existe ya una página con este dominio?</h2>
        <div id="domain-check-link" style="margin-bottom:16px;"></div>
        <div class="actions wrap" style="gap:12px;">
          <button id="btn-domain-check-open" class="primary">Comprobar</button>
        </div>
        <div id="domain-check-confirm" class="hidden" style="margin-top:18px;">
          <p>¿Existe una página con ese dominio?</p>
          <div class="actions two">
            <button id="btn-domain-check-yes" class="primary">No,Continuar</button>
            <button id="btn-domain-check-no" class="secondary">Sí, cambiar dominio</button>
          </div>
        </div>
      </section>

      <!-- Descriptions -->
      <section id="step-desc" class="step hidden">
        <h2>Describe cada sitio</h2>
        <div id="desc-container"></div>
        <div class="actions two">
          <button class="secondary" id="btn-desc-back">← Atrás</button>
          <button class="primary" id="btn-desc-next">Generar Resumen</button>
        </div>
      </section>

      <!-- Final -->
      <section id="step-final" class="step hidden">
        <h2 id="final-title"></h2>
        <div id="summary" class="summary-box"></div>

        <div class="actions wrap">
          <button id="btn-download" class="primary">📥 Descargar imagen</button>
          <button id="btn-copy" class="secondary">📋 Copiar texto</button>
          <button id="btn-reset" class="secondary">🔄 Reiniciar</button>
        </div>
        <div class="actions wrap" style="margin-top: 20px;">
          <button id="btn-ai-creator" class="ai-creator-btn">🤖 Probar Creador de Páginas Con IA</button>
        </div>
        <p class="muted center">📩 Envía la imagen a <strong>Genioinventor</strong> en Discord</p>
        <p class="muted center">📩 Envía la imagen a <strong>321 100 2280</strong> en WhatsApp</p>

      </section>

      <!-- AI Page Creator -->
      <section id="step-ai-creator" class="step hidden">
        <h2>🤖 Creador de Páginas Web con IA</h2>
        <p class="muted">La IA creará la página web más avanzada del mundo según tu objetivo</p>
        
        <div class="ai-status" id="ai-status" style="display: none;">
          <div class="loading-spinner"></div>
          <p>Generando tu página web avanzada...</p>
        </div>

        <div id="ai-result" style="display: none;">
          <h3>✨ Tu página web ha sido generada</h3>
          <div class="preview-container">
            <iframe id="preview-frame" sandbox="allow-scripts allow-same-origin" style="width: 100%; height: 400px; border: 1px solid #333; border-radius: 8px;"></iframe>
          </div>
          <div class="actions wrap" style="margin-top: 16px;">
            <button id="btn-download-html" class="primary">📥 Descargar archivo HTML</button>
            <button id="btn-fullscreen" class="secondary">🔍 Pantalla completa</button>
            <button id="btn-regenerate" class="secondary">🔄 Regenerar</button>
          </div>
        </div>

        <div class="actions two">
          <button class="secondary" id="btn-ai-back">← Volver al resumen</button>
          <button class="primary" id="btn-ai-generate">🚀 Generar página web</button>
        </div>
      </section>































    </div>
  </main>

  <!-- Confetti canvas (floating) -->
  <canvas id="confetti-canvas" class="confetti"></canvas>
  <canvas id="hidden-canvas" class="hidden"></canvas>

  <script type="module">
    import { GoogleGenAI } from 'https://cdn.jsdelivr.net/npm/@google/genai@1.20.0/+esm';
    window.GoogleGenAI = GoogleGenAI;
  </script>
  <script src="ai-creator.js"></script>
  <script src="script.js"></script>
</body>

</html>
